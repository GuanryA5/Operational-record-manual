## 概述

Firewalld（动态防火墙）作为centos7系统中变更对于内核模块的管理工具。


相较于传统的防火墙管理配置工具，firewalld支持动态更新技术并加入了区域（zone）的概念。 简单来说，区域就是firewalld预先准备了几套防火墙策略集合（策略模板），用户可以根据生产场景的不同而选择合适的策略集合， 从而实现防火墙策略之间的快速切换。例如，我们有一台笔记本电脑，每天都要在办公室、咖啡厅和家里使用。 按常理来讲，这三者的安全性按照由高到低的顺序来排列，应该是家庭、公司办公室、咖啡厅。 当前，我们希望为这台笔记本电脑指定如下防火墙策略规则：在家中允许访问所有服务； 在办公室内仅允许访问文件共享服务；在咖啡厅仅允许上网浏览。 在以往，我们需要频繁地手动设置防火墙策略规则，而现在只需要预设好区域集合， 然后只需轻点鼠标就可以自动切换了，从而极大地提升了防火墙策略的应用效率。 firewalld中常见的区域名称（默认为public）； 



### 区别

- Iptables管理防火墙规则的模式（静态）：

  用户将新的防火墙规则添加进 /etc/sysconfig/iptables 配置文件当中，再执行命令`/etc/init.d/iptables reload`使变更的规则生效。在这整个过程的背后，iptables service 首先对旧的防火墙规则进行了清空，然后重新完整地加载所有防火墙规则，如果加载了防火墙模块，需要在重新加载后进行手动加载防火墙的模块；

- Firewalld 管理防火墙规则的模式（动态）：

  任何规则的变更都不需要对整个防火墙规则列表进行重新加载，只需要将变更部分保存并更新到运行中的iptables即可。

### 关系

firewalld 自身并不具备防火墙功能，而是和iptables一样需要通过内核的netfilter来实现，也就是说ifrewalld



### 区域

- block -- 拒绝

- dmz -- 非军事化

- drop -- 丢弃

- external -- 外部

- home -- 家庭

- internal -- 内部

- public -- 公开

- trusted -- 信任

- work -- 工作区

  

### 文件

1. `/usr/lib/firewalld/services/`  -- *firewalld*服务默认在此目录下定义了70+种服务供我们使用
2. `/etc/firewalld/zones/` -- 默认区域配置文件，配置文件中制定了编写完成的规则



